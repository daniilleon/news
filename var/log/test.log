[2024-11-02T12:27:35.006763+01:00] doctrine.INFO: Connecting with parameters array{"use_savepoints":true,"driver":"pdo_mysql","idle_connection_ttl":600,"host":"MySQL-8.2","port":3306,"user":"root","password":null,"driverOptions":[],"defaultTableOptions":[],"dbname":"mynews_test","serverVersion":"8.0.32","charset":"utf8mb4"} {"params":{"use_savepoints":true,"driver":"pdo_mysql","idle_connection_ttl":600,"host":"MySQL-8.2","port":3306,"user":"root","password":null,"driverOptions":[],"defaultTableOptions":[],"dbname":"mynews_test","serverVersion":"8.0.32","charset":"utf8mb4"}} []
[2024-11-02T12:27:35.018999+01:00] doctrine.DEBUG: Executing query: SELECT DATABASE() {"sql":"SELECT DATABASE()"} []
[2024-11-02T12:27:35.694869+01:00] doctrine.DEBUG: Executing query: SELECT DATABASE() {"sql":"SELECT DATABASE()"} []
[2024-11-02T12:27:35.696114+01:00] doctrine.DEBUG: Executing statement: SELECT TABLE_NAME FROM information_schema.TABLES WHERE TABLE_SCHEMA = ?   AND TABLE_TYPE = 'BASE TABLE' ORDER BY TABLE_NAME (parameters: array{"1":"mynews_test"}, types: array{"1":0}) {"sql":"SELECT TABLE_NAME\r\nFROM information_schema.TABLES\r\nWHERE TABLE_SCHEMA = ?\r\n  AND TABLE_TYPE = 'BASE TABLE'\r\nORDER BY TABLE_NAME","params":{"1":"mynews_test"},"types":{"1":{"Doctrine\\DBAL\\ParameterType":0}}} []
[2024-11-02T12:27:35.715038+01:00] doctrine.DEBUG: Executing query: SELECT DATABASE() {"sql":"SELECT DATABASE()"} []
[2024-11-02T12:27:35.715748+01:00] doctrine.DEBUG: Executing statement: SELECT       c.COLUMN_NAME        AS field,        c.COLUMN_TYPE       AS type,        c.IS_NULLABLE        AS `null`,        c.COLUMN_KEY         AS `key`,        c.COLUMN_DEFAULT     AS `default`,        c.EXTRA,        c.COLUMN_COMMENT     AS comment,        c.CHARACTER_SET_NAME AS characterset,        c.COLLATION_NAME     AS collation FROM information_schema.COLUMNS c     INNER JOIN information_schema.TABLES t         ON t.TABLE_NAME = c.TABLE_NAME WHERE c.TABLE_SCHEMA = ? AND t.TABLE_SCHEMA = ? AND t.TABLE_TYPE = 'BASE TABLE' AND t.TABLE_NAME = ? ORDER BY ORDINAL_POSITION (parameters: array{"1":"mynews_test","2":"mynews_test","3":"doctrine_migration_versions"}, types: array{"1":0,"2":0,"3":0}) {"sql":"SELECT       c.COLUMN_NAME        AS field,\r\n       c.COLUMN_TYPE       AS type,\r\n       c.IS_NULLABLE        AS `null`,\r\n       c.COLUMN_KEY         AS `key`,\r\n       c.COLUMN_DEFAULT     AS `default`,\r\n       c.EXTRA,\r\n       c.COLUMN_COMMENT     AS comment,\r\n       c.CHARACTER_SET_NAME AS characterset,\r\n       c.COLLATION_NAME     AS collation\r\nFROM information_schema.COLUMNS c\r\n    INNER JOIN information_schema.TABLES t\r\n        ON t.TABLE_NAME = c.TABLE_NAME WHERE c.TABLE_SCHEMA = ? AND t.TABLE_SCHEMA = ? AND t.TABLE_TYPE = 'BASE TABLE' AND t.TABLE_NAME = ? ORDER BY ORDINAL_POSITION","params":{"1":"mynews_test","2":"mynews_test","3":"doctrine_migration_versions"},"types":{"1":{"Doctrine\\DBAL\\ParameterType":0},"2":{"Doctrine\\DBAL\\ParameterType":0},"3":{"Doctrine\\DBAL\\ParameterType":0}}} []
[2024-11-02T12:27:35.728142+01:00] doctrine.DEBUG: Executing query: SELECT DATABASE() {"sql":"SELECT DATABASE()"} []
[2024-11-02T12:27:35.728636+01:00] doctrine.DEBUG: Executing statement: SELECT        NON_UNIQUE  AS Non_Unique,         INDEX_NAME  AS Key_name,         COLUMN_NAME AS Column_Name,         SUB_PART    AS Sub_Part,         INDEX_TYPE  AS Index_Type FROM information_schema.STATISTICS WHERE TABLE_SCHEMA = ? AND TABLE_NAME = ? ORDER BY SEQ_IN_INDEX (parameters: array{"1":"mynews_test","2":"doctrine_migration_versions"}, types: array{"1":0,"2":0}) {"sql":"SELECT        NON_UNIQUE  AS Non_Unique,\r\n        INDEX_NAME  AS Key_name,\r\n        COLUMN_NAME AS Column_Name,\r\n        SUB_PART    AS Sub_Part,\r\n        INDEX_TYPE  AS Index_Type\r\nFROM information_schema.STATISTICS WHERE TABLE_SCHEMA = ? AND TABLE_NAME = ? ORDER BY SEQ_IN_INDEX","params":{"1":"mynews_test","2":"doctrine_migration_versions"},"types":{"1":{"Doctrine\\DBAL\\ParameterType":0},"2":{"Doctrine\\DBAL\\ParameterType":0}}} []
[2024-11-02T12:27:35.730409+01:00] doctrine.DEBUG: Executing query: SELECT DATABASE() {"sql":"SELECT DATABASE()"} []
[2024-11-02T12:27:35.730775+01:00] doctrine.DEBUG: Executing statement: SELECT DISTINCT            k.CONSTRAINT_NAME,             k.COLUMN_NAME,             k.REFERENCED_TABLE_NAME,             k.REFERENCED_COLUMN_NAME,             k.ORDINAL_POSITION,             c.UPDATE_RULE,             c.DELETE_RULE FROM information_schema.key_column_usage k INNER JOIN information_schema.referential_constraints c ON c.CONSTRAINT_NAME = k.CONSTRAINT_NAME AND c.TABLE_NAME = k.TABLE_NAME WHERE k.TABLE_SCHEMA = ? AND k.TABLE_NAME = ? AND c.CONSTRAINT_SCHEMA = ? AND k.REFERENCED_COLUMN_NAME IS NOT NULL ORDER BY k.ORDINAL_POSITION (parameters: array{"1":"mynews_test","2":"doctrine_migration_versions","3":"mynews_test"}, types: array{"1":0,"2":0,"3":0}) {"sql":"SELECT DISTINCT            k.CONSTRAINT_NAME,\r\n            k.COLUMN_NAME,\r\n            k.REFERENCED_TABLE_NAME,\r\n            k.REFERENCED_COLUMN_NAME,\r\n            k.ORDINAL_POSITION,\r\n            c.UPDATE_RULE,\r\n            c.DELETE_RULE\r\nFROM information_schema.key_column_usage k\r\nINNER JOIN information_schema.referential_constraints c\r\nON c.CONSTRAINT_NAME = k.CONSTRAINT_NAME\r\nAND c.TABLE_NAME = k.TABLE_NAME WHERE k.TABLE_SCHEMA = ? AND k.TABLE_NAME = ? AND c.CONSTRAINT_SCHEMA = ? AND k.REFERENCED_COLUMN_NAME IS NOT NULL ORDER BY k.ORDINAL_POSITION","params":{"1":"mynews_test","2":"doctrine_migration_versions","3":"mynews_test"},"types":{"1":{"Doctrine\\DBAL\\ParameterType":0},"2":{"Doctrine\\DBAL\\ParameterType":0},"3":{"Doctrine\\DBAL\\ParameterType":0}}} []
[2024-11-02T12:27:35.732611+01:00] doctrine.DEBUG: Executing query: SELECT DATABASE() {"sql":"SELECT DATABASE()"} []
[2024-11-02T12:27:35.733044+01:00] doctrine.DEBUG: Executing statement:     SELECT t.TABLE_NAME,            t.ENGINE,            t.AUTO_INCREMENT,            t.TABLE_COMMENT,            t.CREATE_OPTIONS,            t.TABLE_COLLATION,            ccsa.CHARACTER_SET_NAME       FROM information_schema.TABLES t         INNER JOIN information_schema.COLLATION_CHARACTER_SET_APPLICABILITY ccsa           ON ccsa.COLLATION_NAME = t.TABLE_COLLATION WHERE t.TABLE_SCHEMA = ? AND t.TABLE_NAME = ? AND t.TABLE_TYPE = 'BASE TABLE' (parameters: array{"1":"mynews_test","2":"doctrine_migration_versions"}, types: array{"1":0,"2":0}) {"sql":"    SELECT t.TABLE_NAME,\r\n           t.ENGINE,\r\n           t.AUTO_INCREMENT,\r\n           t.TABLE_COMMENT,\r\n           t.CREATE_OPTIONS,\r\n           t.TABLE_COLLATION,\r\n           ccsa.CHARACTER_SET_NAME\r\n      FROM information_schema.TABLES t\r\n        INNER JOIN information_schema.COLLATION_CHARACTER_SET_APPLICABILITY ccsa\r\n          ON ccsa.COLLATION_NAME = t.TABLE_COLLATION WHERE t.TABLE_SCHEMA = ? AND t.TABLE_NAME = ? AND t.TABLE_TYPE = 'BASE TABLE'","params":{"1":"mynews_test","2":"doctrine_migration_versions"},"types":{"1":{"Doctrine\\DBAL\\ParameterType":0},"2":{"Doctrine\\DBAL\\ParameterType":0}}} []
[2024-11-02T12:27:35.746701+01:00] doctrine.DEBUG: Executing query: SELECT @@character_set_database, @@collation_database {"sql":"SELECT @@character_set_database, @@collation_database"} []
[2024-11-02T12:27:35.758272+01:00] doctrine.DEBUG: Executing query: SELECT * FROM doctrine_migration_versions {"sql":"SELECT * FROM doctrine_migration_versions"} []
[2024-11-02T12:27:35.760642+01:00] doctrine.DEBUG: Executing query: SELECT * FROM doctrine_migration_versions {"sql":"SELECT * FROM doctrine_migration_versions"} []
[2024-11-02T12:27:35.761389+01:00] doctrine.DEBUG: Executing query: SELECT * FROM doctrine_migration_versions {"sql":"SELECT * FROM doctrine_migration_versions"} []
[2024-11-02T12:27:35.770310+01:00] doctrine.DEBUG: Beginning transaction [] []
[2024-11-02T12:27:35.773926+01:00] doctrine.DEBUG: Executing query: ALTER TABLE module_employees ADD CONSTRAINT FK_E0E3DCC8E8042869 FOREIGN KEY (CategoryID) REFERENCES module_categories (CategoryID) {"sql":"ALTER TABLE module_employees ADD CONSTRAINT FK_E0E3DCC8E8042869 FOREIGN KEY (CategoryID) REFERENCES module_categories (CategoryID)"} []
[2024-11-02T12:27:36.133331+01:00] doctrine.DEBUG: Rolling back transaction [] []
[2024-11-02T12:27:36.174552+01:00] console.CRITICAL: Error thrown while running command "doctrine:migrations:migrate --env=test". Message: "An exception occurred while executing a query: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`mynews_test`.`#sql-2b3c_4fe`, CONSTRAINT `FK_E0E3DCC8E8042869` FOREIGN KEY (`CategoryID`) REFERENCES `module_categories` (`CategoryID`))" {"exception":"[object] (Doctrine\\DBAL\\Exception\\ForeignKeyConstraintViolationException(code: 1452): An exception occurred while executing a query: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`mynews_test`.`#sql-2b3c_4fe`, CONSTRAINT `FK_E0E3DCC8E8042869` FOREIGN KEY (`CategoryID`) REFERENCES `module_categories` (`CategoryID`)) at D:\\Program\\OSPanel\\home\\mynews\\vendor\\doctrine\\dbal\\src\\Driver\\API\\MySQL\\ExceptionConverter.php:45)\n[previous exception] [object] (Doctrine\\DBAL\\Driver\\PDO\\Exception(code: 1452): SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`mynews_test`.`#sql-2b3c_4fe`, CONSTRAINT `FK_E0E3DCC8E8042869` FOREIGN KEY (`CategoryID`) REFERENCES `module_categories` (`CategoryID`)) at D:\\Program\\OSPanel\\home\\mynews\\vendor\\doctrine\\dbal\\src\\Driver\\PDO\\Exception.php:28)\n[previous exception] [object] (PDOException(code: 23000): SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`mynews_test`.`#sql-2b3c_4fe`, CONSTRAINT `FK_E0E3DCC8E8042869` FOREIGN KEY (`CategoryID`) REFERENCES `module_categories` (`CategoryID`)) at D:\\Program\\OSPanel\\home\\mynews\\vendor\\doctrine\\dbal\\src\\Driver\\PDO\\Connection.php:57)","command":"doctrine:migrations:migrate --env=test","message":"An exception occurred while executing a query: SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (`mynews_test`.`#sql-2b3c_4fe`, CONSTRAINT `FK_E0E3DCC8E8042869` FOREIGN KEY (`CategoryID`) REFERENCES `module_categories` (`CategoryID`))"} []
[2024-11-02T12:27:36.178468+01:00] console.DEBUG: Command "doctrine:migrations:migrate --env=test" exited with code "1452" {"command":"doctrine:migrations:migrate --env=test","code":1452} []
[2024-11-02T12:27:36.195470+01:00] doctrine.INFO: Disconnecting [] []
